/*xuexb_blog - v0.1.0 - 2015-06-14  00:06:09*/
"use strict";var App={};App.allAction=function(){return App.indexAction.call(this)},App.indexAction=function(){var a=this,b=parseInt(a.get("page"),10)||1,c=parseInt(a.get("page_size"),10)||10,d=parseInt(a.get("list_id"),10)||null,e=a.get("key").trim(),f={};return f.isPage=!0,f.page=b,f.limit=c,e&&(f.where={title:["like","%"+e+"%"]}),d&&(f.where||(f.where={}),f.where.list_id=d),a.__get_list(f).then(function(b){var c;return e&&(c=new RegExp(e,"gi"),b.data.forEach(function(a){a.title&&(a.title=a.title.replace(c,function(a){return"<mark>"+a+"</mark>"}))})),a.assign("list",b.data),a.display()})},module.exports=Controller("Touch/BaseController",function(){return App});